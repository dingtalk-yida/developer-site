---
title: è‡ªå®šä¹‰é¡µé¢å¼•å…¥è½®æ’­å›¾
order: 6
---
## ä½¿ç”¨åœºæ™¯
ç°æœ‰ç»„ä»¶åº“çš„è½®æ’­å›¾ç»„ä»¶åªèƒ½å±€é™äºå›ºå®šæ ·å¼ï¼Œé€šè¿‡åœ¨è‡ªå®šä¹‰é¡µé¢å¼•å…¥swiper.jsï¼Œæ¥ä»‹ç»å¦‚ä½•åœ¨è‡ªå®šä¹‰é¡µé¢å¼•å…¥å¤–éƒ¨JS, å®ç°å¤æ‚è½®æ’­å›¾åœºæ™¯ã€‚
## æ•ˆæœæ¼”ç¤º
![image.png](https://img.alicdn.com/imgextra/i2/O1CN01tVWNQV1if6sV1lZg4_!!6000000004439-2-tps-951-301.png)
## æ“ä½œæ­¥éª¤
### æ­¥éª¤ä¸€ï¼šåˆ›å»ºè½®æ’­å›¾åº•è¡¨
**æ“ä½œæ–¹æ³•ï¼š**

1. åˆ›å»ºä¸€ä¸ªè¡¨å•é¡µé¢å¹¶åœ¨ç»„ä»¶åº“ä¸­æ‹–åŠ¨ä¸€ä¸ª å›¾ç‰‡ä¸Šä¼  åˆ°é¡µé¢ä¸­é—´ç”»å¸ƒï¼Œå‘½åä¸ºã€Œè½®æ’­å›¾åº•è¡¨ã€ã€‚
1. ç‚¹å‡» ä¿å­˜ å³å¯ã€‚

ï¼ˆæ“ä½œæ–¹æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰
![image.png](https://img.alicdn.com/imgextra/i2/O1CN018Cty4X1rj4qwJsHAs_!!6000000005666-2-tps-1906-883.png)
### æ­¥éª¤äºŒï¼šåˆ›å»ºè‡ªå®šä¹‰é¡µé¢
**é…ç½® JSX ç»„ä»¶ç›¸å…³å±æ€§åŠæ ·å¼**
åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰é¡µé¢å¹¶åœ¨ç»„ä»¶åº“ä¸­æ‹–åŠ¨ä¸€ä¸ª JSX ç»„ä»¶åˆ°é¡µé¢ä¸­é—´ç”»å¸ƒï¼Œè®¾ç½®ç±»åå’Œæ ·å¼ï¼Œå‘½åä¸ºã€Œè‡ªå®šä¹‰é¡µé¢å¼•å…¥è½®æ’­å›¾ã€ã€‚
**æ“ä½œæ–¹æ³•ï¼š**

1. é¡µé¢ç‚¹å‡»é€‰æ‹© jsx ç»„ä»¶ï¼Œåœ¨å³ä¾§å±æ€§æ ä¸­ï¼Œç‚¹å‡»ç¼–è¾‘JSXä»£ç æŒ‰é’®ã€‚
1. å°†ä¸‹è¿°ä»£ç å¤åˆ¶è¿›æ¥ã€‚

ï¼ˆæ“ä½œæ–¹æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰
![image.png](https://img.alicdn.com/imgextra/i3/O1CN01C66y6R1RNO5Lc6C7T_!!6000000002099-2-tps-1910-886.png)
:::info
ä¸‹è¿°å¼•å…¥çš„ä»£ç å¯ç›´æ¥å¤åˆ¶åœ¨ JSX é¢æ¿å†…
:::
```javascript
function render(me, state, data, ctx) {
  const { dp2 } = this.state;
  const result = dp2.map(item => {
    return (
      <div class="swiper-slide"><img src={item.imgurl} /></div>
    )
  })
  return (
    <div class="swiper mySwiper">
      <div class="swiper-wrapper">
        {result}
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-pagination"></div>
    </div>
  );

}
```

3. ç‚¹å‡»å³ä¾§ æ ·å¼æ  é€‰æ‹© æºç ç¼–è¾‘ å°†ä¸‹è¿°ä»£ç å¤åˆ¶è¿›æ¥ã€‚

ï¼ˆæ“ä½œæ–¹æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰
![image.png](https://img.alicdn.com/imgextra/i1/O1CN017JI1jk1lBkKg5Az3A_!!6000000004781-2-tps-1907-882.png)
:::info
ä¸‹è¿°å¼•å…¥çš„ä»£ç å¯ç›´æ¥å¤åˆ¶åœ¨é¢æ¿å†…
:::
```javascript
:root .swiper {
        width: 100%;
        height: 100%;
      }

      .swiper-slide {
        text-align: center;
        font-size: 18px;
        background: #fff;

        /* Center slide text vertically */
        display: -webkit-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -webkit-box-pack: center;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
        -webkit-box-align: center;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      }

      .swiper-slide img {
        display: block;
        width: 100%;
        height: 300px;
   
      }

```
**é…ç½® HTML ç»„ä»¶ç›¸å…³å±æ€§**
åœ¨è‡ªå®šä¹‰é¡µé¢å¹¶å·¦ä¾§ ç»„ä»¶åº“ä¸­ æ‹–åŠ¨ä¸€ä¸ª HTML ç»„ä»¶åˆ°é¡µé¢ä¸­é—´ç”»å¸ƒã€‚
**æ“ä½œæ–¹æ³•ï¼š**

1. é¡µé¢ç‚¹å‡»é€‰æ‹© HTML ç»„ä»¶ï¼Œåœ¨å³ä¾§å±æ€§æ ä¸­ï¼Œç‚¹å‡»ç¼–è¾‘HTMLä»£ç æŒ‰é’®ã€‚
1. å°†ä¸‹è¿°ä»£ç å¤åˆ¶è¿›æ¥ã€‚

ï¼ˆæ“ä½œæ–¹æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰
![image.png](https://img.alicdn.com/imgextra/i2/O1CN015a8u9e1DYT2o6XOQS_!!6000000000228-2-tps-1903-860.png)
:::info
ä¸‹è¿°å¼•å…¥çš„ä»£ç å¯ç›´æ¥å¤åˆ¶åœ¨ HTML é¢æ¿å†…
:::
```javascript
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.css" />
```
### æ­¥éª¤ä¸‰ï¼šè‡ªå®šä¹‰é¡µé¢ç»‘å®š didmountï¼Œå¹¶è°ƒç”¨æ–¹æ³•
**æ“ä½œæ­¥éª¤ï¼š**

1. ç‚¹å‡»é€‰ä¸­é¡µé¢ã€‚
1. åœ¨å³ä¾§å±æ€§æ ä¸­ç‚¹å‡»é¡µé¢åŠ è½½å®Œæˆæ—¶-ç»‘å®šåŠ¨ä½œæŒ‰é’®ã€‚
1. åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­é€‰æ‹© **didMount** åŠ¨ä½œã€‚
1. å°†ä¸‹è¿°ä»£ç å¤åˆ¶åˆ°é¡µé¢ JS é¢æ¿ didMount å‡½æ•°å¤„ã€‚

ï¼ˆæ“ä½œæ–¹æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰
![image.png](https://img.alicdn.com/imgextra/i2/O1CN016lyT5p1wfTosdquFn_!!6000000006335-2-tps-1904-896.png)
:::info
ä¸‹è¿°å¼•å…¥çš„ä»£ç å¯ç›´æ¥å¤åˆ¶åœ¨ JS é¢æ¿å†…
:::
```javascript
export function loadScript(src) {
  return new Promise((resolve, reject) => {
    const script = document.createElement('script');
    script.crossOrigin = 'anonymous';
    script.src = src;
    script.onload = (evt) => {
      const { type, currentTarget, srcElement } = evt;
      const element = currentTarget || srcElement;
      if (type === 'load' || ['complete', 'loaded'].indexOf(element.readyState) > -1) {
        resolve();
      }
    };
    script.onerror = reject;
    document.body.appendChild(script);
  });
}
function swiper() {
  loadScript('https://unpkg.com/swiper/swiper-bundle.js').then(() => {
    var swiper = new Swiper(".mySwiper", {
      spaceBetween: 30,
      loop: true,
      autoplay: {
        delay: 2500,
        disableOnInteraction: false,
      },
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });
  })
}
export function didMount() {
  console.log(`ã€Œé¡µé¢ JSã€ï¼šå½“å‰é¡µé¢åœ°å€ ${location.href}`);
  // console.log(`ã€Œé¡µé¢ JSã€ï¼šå½“å‰é¡µé¢ id å‚æ•°ä¸º ${this.state.urlParams.id}`);
  // æ›´å¤š this ç›¸å…³ API è¯·å‚è€ƒï¼šhttps://www.yuque.com/yida/support/ocmxyv#OCEXd
  // document.title = window.loginUser.userName + ' | å®œæ­';
  swiper();
}


```
### æ­¥éª¤å››ï¼šè®¾ç½®å˜é‡æ•°æ®æº
**æ·»åŠ å˜é‡æ•°æ®æº**
**æ“ä½œæ–¹æ³•ï¼š**

1. ç‚¹å‡»é¡µé¢å·¦ä¾§æ•°æ®æºæŒ‰é’®ï¼Œæ‰“å¼€æ•°æ®æºé…ç½®å¯¹è¯æ¡†ã€‚
1. ç‚¹å‡»æ·»åŠ æŒ‰é’®ï¼Œé€‰æ‹©**å˜é‡**é€‰é¡¹ï¼Œæ·»åŠ åç§°ä¸º**dp2**çš„å˜é‡æ•°æ®æºã€‚
1. åœ¨æ•°æ®ä¸€æ æŒ‰ç…§å›¾ç¤ºå¡«å†™å¯¹åº”çš„æ•°æ®ã€‚
1. ç‚¹å‡»ä¿å­˜æŒ‰é’®ï¼Œå…³é—­æ•°æ®æºé…ç½®å¯¹è¯æ¡†ã€‚

ï¼ˆæ“ä½œæ–¹æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰
![image.png](https://img.alicdn.com/imgextra/i3/O1CN018ywGyl1YnDjXl3rZI_!!6000000003103-2-tps-1909-901.png)
**æ·»åŠ è¿œç¨‹æ•°æ®æº**
**æ“ä½œæ–¹æ³•ï¼š**

1. ç‚¹å‡»é¡µé¢å·¦ä¾§æ•°æ®æºæŒ‰é’®ï¼Œæ‰“å¼€æ•°æ®æºé…ç½®å¯¹è¯æ¡†ã€‚
1. ç‚¹å‡»æ·»åŠ æŒ‰é’®ï¼Œé€‰æ‹©**å¿«é€Ÿæ–°å»ºè¿œç¨‹API**é€‰é¡¹ï¼Œæ·»åŠ åç§°ä¸º**swiper**çš„è¿œç¨‹æ•°æ®æºã€‚
1. åœ¨æ•°æ®ä¸€æ æŒ‰ç…§å›¾ç¤ºå¡«å†™å¯¹åº”çš„æ•°æ®ã€‚
:::danger
æ³¨æ„ï¼šå‚æ•° formUuid æ˜¯è½®æ’­å›¾åº•è¡¨çš„formUuidï¼ˆæ ¹æ®éœ€æ±‚å¯è‡ªå®šä¹‰æ›´æ¢è¡¨å•formUuidï¼‰
:::

4. æ•°æ®å¤„ç†ä¸­ é€‰æ‹© didFetch è¯·æ±‚å®Œæˆå›è°ƒå‡½æ•°ï¼Œå°†ä¸‹è¿°ä»£ç å¤åˆ¶åˆ°é¡µé¢ JS é¢æ¿ didFetch å‡½æ•°å¤„ã€‚
4. ç‚¹å‡»ä¿å­˜æŒ‰é’®ï¼Œå…³é—­æ•°æ®æºé…ç½®å¯¹è¯æ¡†ã€‚

ï¼ˆæ“ä½œæ–¹æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰
![image.png](https://img.alicdn.com/imgextra/i4/O1CN01VWjuvB1gT5FC9Aip1_!!6000000004142-2-tps-1902-898.png)
:::info
ä¸‹è¿°å¼•å…¥çš„ä»£ç å¯ç›´æ¥å¤åˆ¶åœ¨ JS é¢æ¿å†…
:::
```javascript
function didFetch(content) {
  // content.b = 1; ä¿®æ”¹è¿”å›æ•°æ®ç»“æ„ä¸­çš„ b å­—æ®µä¸º1
  let value = [];
  content.data.map(item => {
    let img = JSON.parse(item.formData.imageField_kvbsaf9j)
    let arr = {
      imgurl: img[0].url
    }
    value.push(arr);
  })
  console.log(value);
  this.setState({
    dp2: value
  })
  return content; // é‡è¦ï¼Œéœ€è¿”å› content
}
```
## åœ¨çº¿è¯•ç©
åœ¨çº¿ä½“éªŒè¯·ç§»æ­¥å¼€å‘è€…ä¸­å¿ƒ ğŸ‘‰ [è‡ªå®šä¹‰é¡µé¢å¼•å…¥è½®æ’­å›¾](https://www.aliwork.com/developer/custom-carousel)


**--------------------è·å–å®œæ­æœ€æ–°ä¿¡æ¯ï¼Œæ¬¢è¿å…³æ³¨æˆ‘ä»¬--------------------**
![å®œæ­.jpg](https://img.alicdn.com/imgextra/i1/O1CN01h2m0a629lW2p1L2d9_!!6000000008108-0-tps-762-428.jpg)
