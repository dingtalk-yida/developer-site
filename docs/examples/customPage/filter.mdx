---
title: æŸ¥è¯¢ç»„ä»¶
order: 11
---

## ä½¿ç”¨åœºæ™¯

å½“è‡ªå®šä¹‰é¡µé¢ä¸­ä½¿ç”¨è‡ªå®šä¹‰è¡¨æ ¼å±•ç¤ºæ•°æ®åï¼Œé‚£ä¹ˆé¡¶éƒ¨æ“ä½œçš„æœç´¢åªèƒ½æœç´¢æŸä¸€åˆ—æ•°æ®ï¼Œè¿™æ—¶å¦‚æœæˆ‘ä»¬éœ€è¦å¯¹æˆ‘ä»¬çš„æ•°æ®å¤šåˆ—è¿›è¡Œæœç´¢ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨æŸ¥è¯¢ç»„ä»¶æ¥å®ç°ã€‚

## è§†é¢‘å±•ç¤º

<video width="100%" controls>
  <source
    src="https://cloud.video.taobao.com/play/u/null/p/1/e/6/t/1/d/ud/365825694505.mp4"
    type="video/mp4"
  ></source>
</video>

## æ“ä½œæ­¥éª¤

### æ­¥éª¤1ï¼šè°ƒç”¨æ¥å£å¤„ç†æ•°æ®å±•ç¤ºåˆ°è¡¨æ ¼ä¸­

**åœ¨æ•°æ®æºå¤„å¢åŠ è¿œç¨‹æ•°æ®æº**

å‚è€ƒæ–‡æ¡£ï¼š[å®œæ­å¹³å°æ¥å£ï¼ˆé¡µé¢æ•°æ®æºå¯ç›´æ¥è°ƒç”¨ï¼‰](https://www.yuque.com/yida/support/aql605?view=doc_embed&inner=936pox)

**ï¼ˆ1ï¼‰è°ƒç”¨æ ¹æ®æ¡ä»¶æœç´¢è¡¨å•å®ä¾‹è¯¦æƒ…åˆ—è¡¨æ¥å£**
æ¥å£é…ç½®å¦‚å›¾ï¼š
![](https://img.alicdn.com/imgextra/i3/O1CN01B09tXm1vxyBzl9k41_!!6000000006240-2-tps-2754-1246.png_.webp)
æ·»åŠ æ•°æ®æº

**ï¼ˆ2ï¼‰è¯·æ±‚è¿”å›æ•°æ®åœ¨ didFetch å‡½æ•°ä¸­å¤„ç†ï¼Œå¤„ç†åçš„æ ¼å¼å¯ä»¥å‚è€ƒè¡¨æ ¼å³ä¾§ã€Œç¼–è¾‘ä»£ç ã€é‡Œé¢çš„æ ¼å¼ï¼Œéœ€è¦çš„æ¯ä¸€æ¡æ•°æ®éƒ½è¦æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç»Ÿä¸€æ”¾åˆ°ä¸€ä¸ªæ•°ç»„é‡Œé¢ï¼Œæœ€åè¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­æœ‰ä¸‰ä¸ªå±æ€§ï¼Œå…¶ä¸­ä¸€ä¸ªå±æ€§æ˜¯ data ï¼Œå¯¹åº”çš„å€¼æ˜¯å¤„ç†å¥½çš„æ•°ç»„**
**æ³¨ï¼šå¦‚æœè¿”å›çš„æ•°æ®æ˜¯ proxy å½¢å¼ï¼Œå¯ä»¥ä½¿ç”¨ JSON.parse(JSON.stringify(proxy å±æ€§çš„æ•°æ® ))**

```javascript
function didFetch(content) {
  // content.b = 1; ä¿®æ”¹è¿”å›æ•°æ®ç»“æ„ä¸­çš„ b å­—æ®µä¸º1
  const value = [];
  const data = content.data.map((item) => {
    let arr = {
      name: item.formData.textField_hr9o6eq,
      sex: item.formData.textField_62lufhf,
      age: item.formData.textField_0nibhpr,
      study: item.formData.textField_97okczu,
      work: item.formData.textField_456c4b7,
      instid: item.formInstId,
    };
    value.push(arr);
    console.log(arr);
  });

  let result = {
    data: value,
    currentPage: content.currentPage,
    totalCount: content.totalCount,
  };
  return result; // é‡è¦ï¼Œéœ€è¿”å› content
}
```

### æ­¥éª¤2ï¼šæ‹–åŠ¨æŸ¥è¯¢ç»„ä»¶ï¼Œé…ç½®è¾“å…¥æ¡†

![](https://img.alicdn.com/imgextra/i4/O1CN01gtDMHL1IeUKRow8XB_!!6000000000918-2-tps-2878-1316.png_.webp)
è‡ªå®šä¹‰é¡µé¢æ·»åŠ æŸ¥è¯¢ç»„ä»¶

### æ­¥éª¤3ï¼šç»™æŸ¥è¯¢ç»„ä»¶çš„æœç´¢å’Œé‡ç½®æŒ‰é’®é…ç½®ç›¸åº”åŠ¨ä½œ

:::danger
å½“æŸ¥è¯¢æ¡ä»¶å¯¹åº”ç»„ä»¶çš„æœç´¢ç±»å‹ä¸ºæ¨¡ç³Šæœç´¢æ—¶ï¼ŒæŸ¥è¯¢æ—¶è¯¥å€¼å¯ä¸ºç©ºã€‚
å½“æŸ¥è¯¢æ¡ä»¶å¯¹åº”ç»„ä»¶çš„æœç´¢ç±»å‹ä¸ºç²¾ç¡®æœç´¢æ—¶ï¼ŒæŸ¥è¯¢æ—¶è¯¥å€¼ä¸èƒ½ä¸ºç©ºã€‚
è‹¥éœ€è¦ç²¾ç¡®æœç´¢ç»„ä»¶ä¸ºç©ºï¼Œåˆ™éœ€åœ¨ js ä¸­è¿›è¡Œåˆ¤æ–­ï¼Œå½“è¯¥å€¼ä¸ºç©ºæ—¶ï¼Œå•ç‹¬é…ç½®å…¶ä»–ç»„ä»¶å€¼ä¸º searchFieldJson å‚æ•°ã€‚
:::
**é…ç½®æœç´¢äº‹ä»¶**
ä½¿ç”¨`${'value.fileid'}`è·å–è¾“å…¥æ¡†çš„å€¼ï¼Œå¹¶é…ç½® searchFieldJson å‚æ•°ï¼Œé‡æ–°åŠ è½½æ•°æ®æºã€‚
![](https://img.alicdn.com/imgextra/i1/O1CN01LlFBpc1uBajtL004W_!!6000000005999-2-tps-2878-1292.png_.webp)
**å‚è€ƒä»£ç å¦‚ä¸‹ï¼š**

```javascript
export function onSubmit(value) {
  console.log('value', value);
  const work = `${value.textField_krbe9jrp}`;
  const sex = `${value.textField_krc0uzre}`;
  console.log('work', work);
  const somejson = {
    textField_456c4b7: work,
    textField_62lufhf: sex,
  };
  const param = {
    formUuid: 'FORM-HC9660C1TGFQ8927Y6905OPBO30Y1I9YOD3PKH',
    searchFieldJson: JSON.stringify(somejson),
  };
  this.dataSourceMap['getDatas_copy'].load(param);
}
```

**é…ç½®é‡ç½®äº‹ä»¶**
å½“æˆ‘ä»¬ç‚¹å‡»é‡ç½®æŒ‰é’®æ—¶ï¼Œé€šè¿‡é‡ç½®å±•ç¤ºæ‰€æœ‰æ•°æ®ã€‚
![](https://img.alicdn.com/imgextra/i3/O1CN012qwHHo1SPxvgNklQG_!!6000000002240-2-tps-1575-733.png_.webp)
**å‚è€ƒä»£ç å¦‚ä¸‹ï¼š**

```javascript
export function onReset(values) {
  console.log('onFilterReset', values);
  this.dataSourceMap['getDatas_copy'].load();
}
```

### æ­¥éª¤4ï¼šåˆ†é¡µè®¾ç½®

**æ·»åŠ åˆ†é¡µæœç´¢åŠ¨ä½œäº‹ä»¶**
![æŸ¥è¯¢.gif](https://img.alicdn.com/imgextra/i4/O1CN01iqZWa828c4FqudVLB_!!6000000007952-1-tps-1378-689.gif)
**é…ç½®ç¿»é¡µäº‹ä»¶**
ç‚¹å‡»ç¿»é¡µæ—¶ï¼Œè¿”å›çš„ params æ•°æ®ä¸­çš„ currentPage ä¸ºå½“å‰é€‰æ‹©é¡µç ï¼Œé€šè¿‡ã€Œthis.$('ç»„ä»¶å”¯ä¸€æ ‡è¯†').getValue()ã€è·å–æŸ¥è¯¢ç»„ä»¶ä¸­å¯¹åº”æœç´¢è¾“å…¥æ¡†çš„å€¼ï¼Œç„¶åå°† params.currentPage ï¼ŒformUuid ä»¥åŠæŸ¥è¯¢æ¡ä»¶ searchFieldJson ä½œä¸ºæ–°çš„å‚æ•°åŠ è½½æ•°æ®æº getDatas ï¼Œå®ç°æœç´¢åç¿»é¡µåŠŸèƒ½ã€‚å½“ä¸è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼ŒæŸ¥è¯¢æ¡ä»¶ searchFieldJson ä¸ºç©ºï¼Œå› æ­¤åªå®ç°åŸæ•°æ®ç¿»é¡µåŠŸèƒ½ã€‚
å‚è€ƒä»£ç å¦‚ä¸‹ï¼š

```javascript
export function onFetchData(params) {
  // å¦‚æœæ˜¯æœç´¢çš„è¯ç¿»é¡µé‡ç½®åˆ° 1
  if (params.from === 'search') {
    params.currentPage = 1;
  }
  // å¦‚æœä½ éœ€è¦æŠŠè¡¨æ ¼æŸ¥è¯¢æ¡ä»¶ä¿å­˜èµ·æ¥ï¼Œå¯ä»¥å–æ¶ˆä¸‹ä¸€è¡Œæ³¨é‡Šï¼Œå¹¶æ·»åŠ ä¸€ä¸ª params çš„å˜é‡ç±»å‹æ•°æ®æº
  // this.setState({ tableParams: params });

  // å¦‚æœä½¿ç”¨è¿œç¨‹æ¥å£ä½œä¸ºè¡¨æ ¼æ•°æ®æºï¼Œç†è®ºä¸Šä½ åªéœ€è¦å°†ä¸‹æ–¹çš„â€œdataSourceNameâ€æ”¹ä¸ºå®é™…çš„æ•°æ®æºåç§°å³å¯
  const work = this.$('textField_krbe9jrp').getValue();
  const sex = this.$('textField_krc0uzre').getValue();
  const somejson = {
    textField_456c4b7: work,
    textField_62lufhf: sex,
  };
  const newparam = {
    formUuid: 'FORM-HC9660C1TGFQ8927Y6905OPBO30Y1I9YOD3PKH',
    currentPage: params.currentPage,
    searchFieldJson: JSON.stringify(somejson),
  };
  this.dataSourceMap['getDatas'].load(newparam);
}
```

## åœ¨çº¿è¯•ç©

åœ¨çº¿ä½“éªŒè¯·ç‚¹å‡» ğŸ‘‰ [**è‡ªå®šä¹‰æ•°æ®ç®¡ç†é¡µ**]ï¼ˆhttps://www.aliwork.com/bench/coe?tplUuid=TPL_QQL3XOV4R4XKHNL5RCU7)
â€‹

