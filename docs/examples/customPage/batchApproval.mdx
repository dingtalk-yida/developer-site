---
title: è‡ªå®šä¹‰é¡µé¢å®ç°æ‰¹é‡å®¡æ‰¹
order: 4
---

:::info
æ‰¹é‡å®¡æ‰¹åŠŸèƒ½ï¼Œå®œæ­å¹³å°å·²ç»åˆ—å…¥äº§å“è§„åˆ’ä¸­ï¼Œæœªæ¥å¯ä»¥ç›´æ¥å¼€å¯ã€‚
å½“ä¸‹è¿˜æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œæ‚¨åˆæ€¥éœ€çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥æŒ‰ç…§è¿™ç¯‡æ–‡æ¡£è‡ªè¡Œå®ç°ã€‚
å¾…å®˜æ–¹åŠŸèƒ½ä¸Šçº¿åï¼Œé€šè¿‡å®˜æ–¹åŠŸèƒ½æ›¿æ¢ã€‚
:::

## åœºæ™¯

å½“æµç¨‹å¼€å¯æ‰¹é‡å®¡æ‰¹åï¼Œç”¨æˆ·å¯åœ¨æˆ‘çš„å¾…åŠä¸­å®Œæˆæ‰¹é‡å®¡æ‰¹ï¼Œä½†æ˜¯åœ¨å¼€å¯æ‰¹é‡å®¡æ‰¹åŠŸèƒ½ä¹‹å‰å‘èµ·çš„æµç¨‹åˆ™æ— æ³•è¿›è¡Œæ‰¹é‡å®¡æ‰¹ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰é¡µé¢æ¥å®ç°æ‰¹é‡å®¡æ‰¹çš„æ“ä½œã€‚

## æ•ˆæœæ¼”ç¤º

![è‡ªå®šä¹‰é¡µé¢å®ç°æ‰¹é‡å®¡æ‰¹.gif](https://img.alicdn.com/imgextra/i3/O1CN01H3o9S91GJImPJFQcV_!!6000000000601-1-tps-1380-735.gif)

## è§†é¢‘æ¼”ç¤º

![è‡ªå®šä¹‰é¡µé¢-æ‰¹é‡å®¡æ‰¹.mov](https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*NNs6TKOR3isAAAAAAAAAAABkARQnAQ)]()# 5. åœ¨çº¿è¯•ç©
åœ¨çº¿ä½“éªŒè¯·ç§»æ­¥å¼€å‘è€…ä¸­å¿ƒ ğŸ‘‰ [è‡ªå®šä¹‰é¡µé¢å®ç°æ‰¹é‡å®¡æ‰¹](https://www.aliwork.com/developer/batch-approval)

## æ“ä½œæ­¥éª¤

### æ­¥éª¤ä¸€: åˆ›å»ºè¡¨å•

**ã€Œæµç¨‹è¡¨å•ã€ï¼š**æµç¨‹è¡¨å•ï¼Œé…ç½® A èŠ‚ç‚¹ç›´æ¥å®¡æ‰¹ã€‚
![1.gif](https://img.alicdn.com/imgextra/i1/O1CN01I7XJqK1Sru5i56mey_!!6000000002301-1-tps-1894-863.gif)
**ã€Œå®¡æ‰¹èŠ‚ç‚¹å¿…å¡«é¡µé¢ã€é¡µé¢ï¼š**æµç¨‹è¡¨å•ï¼Œè®¾ç½®éšè—å­—æ®µï¼Œæäº¤æ—¶ä¸å¯è§ï¼ŒA èŠ‚ç‚¹å¯è§ï¼Œä¸”åœ¨ A èŠ‚ç‚¹è®¾ç½®æ ¡éªŒè§„åˆ™ï¼Œå®¡æ‰¹æ—¶éšè—å­—æ®µä¸èƒ½ä¸ºç©ºã€‚
![2.gif](https://img.alicdn.com/imgextra/i2/O1CN01d1TOns29QRp1ZlU9w_!!6000000008062-1-tps-1894-863.gif)
**ã€Œæµç¨‹æ‰¹é‡å®¡æ‰¹ã€é¡µé¢ï¼š**è‡ªå®šä¹‰é¡µé¢ï¼Œè‡ªå®šä¹‰è¡¨æ ¼è·å–å½“å‰ç™»å½•äººå½“å‰åº”ç”¨å†…æ‰€æœ‰æœªå®¡æ‰¹æµç¨‹ï¼Œé¡¶éƒ¨æ“ä½œæŒ‰é’®æ·»åŠ æ‰¹é‡åŒæ„åŠæ‰¹é‡æ‹’ç»ï¼Œç”¨æ¥æ‰§è¡Œæ‰¹é‡å®¡æ‰¹ã€‚
![image.png](https://img.alicdn.com/imgextra/i1/O1CN012gZYDe1W7sksDUZYP_!!6000000002742-2-tps-2326-544.png)

### æ­¥éª¤äºŒ: è¿œç¨‹æ•°æ®æºè·å–å¾…åŠå±•ç¤ºåœ¨è¡¨æ ¼ä¸­

1. å¢åŠ è¿œç¨‹æ•°æ®æºï¼Œè°ƒç”¨ã€Œå¾…åŠä»»åŠ¡ã€æ¥å£
   å‚è€ƒæ–‡æ¡£ï¼š[å®œæ­å¹³å°æ¥å£ï¼ˆé¡µé¢æ•°æ®æºå¯ç›´æ¥è°ƒç”¨ï¼‰](https://www.yuque.com/yida/support/aql605?view=doc_embed&inner=k0ehye)
   ![image.png](https://img.alicdn.com/imgextra/i2/O1CN01irnSlx289DItumvz9_!!6000000007889-2-tps-2060-1170.png)
2. å°†è¿”å›æ•°æ®å¤„ç†æˆè¡¨æ ¼æ ¼å¼
   ![image.png](https://img.alicdn.com/imgextra/i2/O1CN014J2AWX1WiWRRFNyEs_!!6000000002822-2-tps-2682-1422.png)
   æ·»åŠ è¯·æ±‚å®Œæˆæ—¶å›è°ƒå‡½æ•°ï¼ˆdidFenchï¼‰
   ![image.png](https://img.alicdn.com/imgextra/i1/O1CN01DNgDu81UFY9XyGmSC_!!6000000002488-2-tps-2778-1544.png)
   æ§åˆ¶å°æŸ¥çœ‹æ•°æ®
   :::info
   åœ¨æ‰§è¡Œå®¡æ‰¹ä»»åŠ¡æ—¶éœ€è¦ä½¿ç”¨åˆ°ã€ŒtaskIdã€ï¼ŒåŒæ—¶éœ€è¦ç»™è¡¨æ ¼çš„æ•°æ®ä¸»é”®é…ç½®å”¯ä¸€å€¼ï¼Œå› æ­¤å°†ã€ŒprocessInstanceIdã€ï¼Œå³æµç¨‹å®ä¾‹ ID ä½œä¸ºä¸»é”®ã€‚
   :::

```javascript
function didFetch(content) {
  // content.b = 1; ä¿®æ”¹è¿”å›æ•°æ®ç»“æ„ä¸­çš„ b å­—æ®µä¸º1
  return content; // é‡è¦ï¼Œéœ€è¿”å› content
}
```

3. å°†å¤„ç†å¥½çš„æ•°æ®å±•ç¤ºåœ¨è¡¨æ ¼ä¸­
   ç»™è¡¨æ ¼ç»‘å®šæ•°æ®æºï¼Œå¹¶é…ç½® processInstanceId ä¸ºæ•°æ®ä¸»é”®ã€‚
   ![è‡ªå®šä¹‰é¡µé¢å®ç°æ‰¹é‡å®¡æ‰¹2.gif](https://img.alicdn.com/imgextra/i1/O1CN01tXHPUl24cHzAZl0qr_!!6000000007411-1-tps-1380-749.gif)
4. é…ç½®è¡¨æ ¼åˆ†é¡µ
   ![image.png](https://img.alicdn.com/imgextra/i4/O1CN01vcKKld1ryeJiWMNoH_!!6000000005700-2-tps-2694-1420.png)

### æ­¥éª¤ä¸‰: å¼€å¯è¡Œé€‰æ‹©è·å–é€‰ä¸­æµç¨‹

1. æ‰“å¼€è¡Œé€‰æ‹©å™¨
   ![image.png](https://img.alicdn.com/imgextra/i3/O1CN012dAEnO1m0aIN1q9J7_!!6000000004892-2-tps-1902-880.png)
   ![image.png](https://img.alicdn.com/imgextra/i1/O1CN01ntRteE1tVuhUnjTdB_!!6000000005908-2-tps-1910-875.png)
2. æ·»åŠ å˜é‡æ•°æ®æºã€Œarr*idã€
   åœ¨æ•°æ®æºä¸­æ·»åŠ å˜é‡æ•°æ®æºã€Œarr_idã€ï¼Œå½“é€‰æ‹©è¡Œæ•°æ®æ—¶ï¼Œè·å–è¯¥è¡Œæ•°æ®çš„ã€ŒprocessInstanceIdã€å’Œã€ŒtaskIdã€å¹¶ push åˆ°æ•°ç»„ä¸­ï¼Œç„¶åå°†æ•°ç»„èµ‹å€¼ç»™å˜é‡æ•°æ®æºä¸­ã€‚
   ![image.png](https://img.alicdn.com/imgextra/i1/O1CN01UfO01P29btj9CH91B*!!6000000008087-2-tps-2060-1018.png)
3. æ·»åŠ å•è¡Œé€‰æ‹©å›è°ƒåŠ¨ä½œäº‹ä»¶
   æ·»åŠ å•è¡Œé€‰æ‹©å›è°ƒåŠ¨ä½œäº‹ä»¶ï¼Œç”±äºæ‰§è¡Œå®¡æ‰¹ä»»åŠ¡æ—¶éœ€è¦ä½¿ç”¨åˆ°ã€ŒprocessInstanceIdã€å’Œã€ŒtaskIdã€ä¸¤ä¸ªå‚æ•°ï¼Œå› æ­¤åœ¨æ¯é€‰æ‹©ä¸€è¡Œæ—¶ï¼Œå°†æ¯è¡Œæ•°æ®ä¸­çš„ã€ŒprocessInstanceIdã€å’Œã€ŒtaskIdã€æ·»åŠ åˆ°æ•°ç»„ï¼Œé€‰æ‹©å¤šè¡Œæ—¶ï¼Œé€šè¿‡å¾ªç¯å°†å¤šè¡Œæ•°æ®ä¸­çš„ã€ŒprocessInstanceIdã€å’Œã€ŒtaskIdã€æ·»åŠ åˆ°æ•°ç»„ä¸­ï¼Œæœ€åå°†å¤„ç†å¥½çš„æ•°ç»„æ•°æ®èµ‹å€¼ç»™å˜é‡æ•°æ®æºã€‚
   ![image.png](https://img.alicdn.com/imgextra/i3/O1CN01Wqniki1gI5k09LrnF_!!6000000004118-2-tps-2666-1222.png)
   ä»£ç å‚è€ƒå¦‚ä¸‹ï¼š

```javascript
export function onSelect(selected, rowData, selectedRows) {
  const arr_id = [];
  selectedRows.map((item) => {
    let id = {
      processInstanceId: item.processInstanceId,
      taskId: item.taskId,
    };
    arr_id.push(id);
  });
  console.log("arr_id", arr_id);
  this.setState({
    arr_id: arr_id,
  });
}
```

### æ­¥éª¤å›› è¿œç¨‹æ•°æ®æºæ‰§è¡Œå®¡æ‰¹ä»»åŠ¡

å¢åŠ è¿œç¨‹æ•°æ®æºï¼Œè°ƒç”¨ã€Œæ‰§è¡Œå•ä¸ªä»»åŠ¡æ¥å£ã€æ¥å£
å‚è€ƒæ–‡æ¡£ï¼š[å®œæ­å¹³å°æ¥å£ï¼ˆé¡µé¢æ•°æ®æºå¯ç›´æ¥è°ƒç”¨ï¼‰](https://www.yuque.com/yida/support/aql605?view=doc_embed&inner=icdzds)
![image.png](https://img.alicdn.com/imgextra/i1/O1CN01f0xeQu1y7FRtDrX3X_!!6000000006531-2-tps-1730-934.png)

### æ­¥éª¤äº”: é…ç½®æ‰¹é‡åŒæ„å®¡æ‰¹

1. æ·»åŠ æ‰¹é‡åŒæ„æŒ‰é’®
   ![image.png](https://img.alicdn.com/imgextra/i2/O1CN01p2Jwd91HzGgbgucVA_!!6000000000828-2-tps-1914-885.png)
2. æ·»åŠ æ‰¹é‡åŒæ„åŠ¨ä½œäº‹ä»¶
   åœ¨æ‰¹é‡åŒæ„æŒ‰é’®æ·»åŠ å›è°ƒå‡½æ•°ï¼Œç»‘å®šåŠ¨ä½œäº‹ä»¶ï¼Œåœ¨åŠ¨ä½œäº‹ä»¶ä¸­ï¼Œè·å–å˜é‡æ•°æ®æº arr*idï¼Œå°†æ•°æ®æºä¸­çš„æ•°ç»„å¾ªç¯ï¼Œä»è€Œè·å–è¡Œé€‰æ‹©æ—¶é€‰æ‹©æ‰€æœ‰æµç¨‹çš„ã€ŒprocessInstanceIdã€å’Œã€ŒtaskIdã€ï¼Œå°†è·å–åˆ°çš„ id å€¼ï¼Œå®¡æ‰¹æ„è§ï¼ˆç¡®è®¤åŒæ„ï¼‰åŠå®¡æ‰¹ç»“æœï¼ˆAGREEï¼‰ä½œä¸ºå‚æ•°ï¼Œè°ƒç”¨æ•°æ®æºï¼Œæ‰§è¡Œæµç¨‹å®¡æ‰¹ï¼Œæ‰§è¡ŒæˆåŠŸåï¼Œé‡æ–°åŠ è½½è·å–å¾…åŠæ•°æ®æºï¼Œåˆ·æ–°å½“å‰ç™»å½•äººçš„å¾…åŠï¼Œå¹¶å¼¹å‡ºæˆåŠŸå¯¹è¯æ¡†ã€‚
   ![image.png](https://img.alicdn.com/imgextra/i1/O1CN01utFfmy1cTIyXpk2DA*!!6000000003601-2-tps-2696-1072.png)
   ä»£ç å‚è€ƒå¦‚ä¸‹ï¼š

```javascript
export function onActionBarItemClick_agree() {
  for (let i = 0; i < this.state.arr_id.length; i++) {
    const param = {
      taskId: this.state.arr_id[i].taskId,
      procInstId: this.state.arr_id[i].processInstanceId,
      outResult: "AGREE",
      remark: "ç¡®è®¤åŒæ„",
    };
    this.dataSourceMap["executeTask"].load(param).then((res) => {
      this.dataSourceMap["getTodoTasks"].load();
      this.utils.toast({
        title: "success",
        type: "success",
        size: "medium",
      });
    });
  }
}
```

### æ­¥éª¤å…­: é…ç½®æ‰¹é‡æ‹’ç»å®¡æ‰¹

1. æ·»åŠ æ‰¹é‡æ‹’ç»æŒ‰é’®
   ![](https://img.alicdn.com/imgextra/i3/O1CN01pqU0OG1uOPpU1n6Bn_!!6000000006027-2-tps-1914-885.png)
2. æ·»åŠ æ‰¹é‡æ‹’ç»åŠ¨ä½œäº‹ä»¶
   åœ¨æ‰¹é‡æ‹’ç»æŒ‰é’®æ·»åŠ å›è°ƒå‡½æ•°ï¼Œç»‘å®šåŠ¨ä½œäº‹ä»¶ï¼Œåœ¨åŠ¨ä½œäº‹ä»¶ä¸­ï¼Œè·å–å˜é‡æ•°æ®æº arr*idï¼Œå°†æ•°æ®æºä¸­çš„æ•°ç»„å¾ªç¯ï¼Œä»è€Œè·å–è¡Œé€‰æ‹©æ—¶é€‰æ‹©æ‰€æœ‰æµç¨‹çš„ã€ŒprocessInstanceIdã€å’Œã€ŒtaskIdã€ï¼Œå°†è·å–åˆ°çš„ id å€¼ï¼Œå®¡æ‰¹æ„è§ï¼ˆç¡®è®¤æ‹’ç»ï¼‰åŠå®¡æ‰¹ç»“æœï¼ˆDISAGREEï¼‰ä½œä¸ºå‚æ•°ï¼Œè°ƒç”¨æ•°æ®æºï¼Œæ‰§è¡Œæµç¨‹å®¡æ‰¹ï¼Œæ‰§è¡ŒæˆåŠŸåï¼Œé‡æ–°åŠ è½½è·å–å¾…åŠæ•°æ®æºï¼Œåˆ·æ–°å½“å‰ç™»å½•äººçš„å¾…åŠï¼Œå¹¶å¼¹å‡ºæˆåŠŸå¯¹è¯æ¡†ã€‚
   ![image.png](https://img.alicdn.com/imgextra/i4/O1CN017ykGgT1xBzwGyiWgJ*!!6000000006406-2-tps-2604-1064.png)
   ä»£ç å‚è€ƒå¦‚ä¸‹ï¼š

```javascript
export function onActionBarItemClick_disagree() {
  for (let i = 0; i < this.state.arr_id.length; i++) {
    const param = {
      taskId: this.state.arr_id[i].taskId,
      procInstId: this.state.arr_id[i].processInstanceId,
      outResult: "DISAGREE",
      remark: "ç¡®è®¤æ‹’ç»",
    };
    this.dataSourceMap["executeTask"].load(param).then((res) => {
      this.dataSourceMap["getTodoTasks"].load();
      this.utils.toast({
        title: "success",
        type: "success",
        size: "medium",
      });
    });
  }
}
```

### æ­¥éª¤ä¸ƒ: æ‰§è¡Œå¤±è´¥æ—¶å¼¹å‡ºå¤±è´¥åŸå› 

å½“å®¡æ‰¹æ—¶ï¼Œè‹¥å½“å‰å®¡æ‰¹äººéœ€è¦å¡«å†™å¿…å¡«å†…å®¹æˆ–è€…éœ€è¦ç”±å½“å‰å®¡æ‰¹äººæ¥æŒ‡å®šä¸‹ä¸€ä¸ªå®¡æ‰¹äººæ—¶ï¼Œåˆ™å®¡æ‰¹æ— æ³•æ‰§è¡ŒæˆåŠŸï¼Œå› æ­¤å¯ä»¥åœ¨è¿™é‡Œè·å–æ‰§è¡Œå¤±è´¥åŸå› ï¼Œå¹¶å¼¹å‡ºæç¤ºæ¡†ã€‚
åœ¨æ‰§è¡Œå®¡æ‰¹ä»»åŠ¡æ•°æ®æºæ·»åŠ è¯·æ±‚é”™è¯¯å¤„ç†å‡½æ•°ï¼Œå¼¹å‡ºæŠ¥é”™ä¿¡æ¯å¯¹è¯æ¡†
![image.png](https://img.alicdn.com/imgextra/i4/O1CN017qoo7Y1oocnkCpr2f_!!6000000005272-2-tps-2026-1074.png)
å‚è€ƒä»£ç å¦‚ä¸‹ï¼š

```javascript
function onError(error) {
  console.log(error);
  // å¯ä»¥åœ¨è¿™é‡Œåšå¼¹æ¡†æç¤ºç­‰æ“ä½œ
  this.utils.toast({
    title: error.message,
    type: "error",
    size: "medium",
  });
}
```

### æ­¥éª¤å…«: ç‚¹å‡»è¯¦æƒ…è·³è½¬è¯¦æƒ…é¡µ

å½“å¼¹å‡ºæŠ¥é”™ä¿¡æ¯åå¯ç‚¹å‡»è¯¦æƒ…è·³è½¬åˆ°è¯¦æƒ…é¡µä¸­ã€‚
![image.png](https://img.alicdn.com/imgextra/i2/O1CN01fzEmkY1FpzQXIp3NS_!!6000000000537-2-tps-1917-882.png)ç‚¹å‡»è¯¦æƒ…è·³è½¬åˆ°è¯¦æƒ…é¡µ
![image.png](https://img.alicdn.com/imgextra/i1/O1CN01hsIMcp1kCpertpzEJ_!!6000000004648-2-tps-2058-72.png)
å‚è€ƒä»£ç å¦‚ä¸‹ï¼š

```javascript
export function onActionClick(rowData) {ã€
  this.utils.router.push("æµç¨‹è¯¦æƒ…é¡µä¸å¸¦å‚æ•°é“¾æ¥",{formInstId:rowData.processInstanceId },true,true)
}
```

â€‹

**--------------------è·å–å®œæ­æœ€æ–°ä¿¡æ¯ï¼Œæ¬¢è¿å…³æ³¨æˆ‘ä»¬--------------------**
![å®œæ­.jpg](https://img.alicdn.com/imgextra/i3/O1CN01gx02aw1GwERXmOFvv_!!6000000000686-0-tps-1800-1012.jpg)
